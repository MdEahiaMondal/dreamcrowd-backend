ক্লায়েন্ট (Dreamcrowd) **Subscription Cancel** নিয়ে মিটিং-এ খুব ক্লিয়ারলি বলেছে। নিচে তার চাওয়া ১০০% সঠিকভাবে লিখলাম – একদম সিম্পল ভাষায়।

### ক্লায়েন্ট কী চায় (Subscription Cancel)

1. **Buyer পক্ষ থেকে কোথা থেকে ক্যানসেল করা যাবে?**  
   দুই জায়গা থেকে:
    - **Order Management** → Active Orders → যে অর্ডারটা subscription তার পাশে “Cancel Subscription” বাটন
    - **Experts / My Teachers** সেকশন → যে Seller-এর সাথে subscription আছে, তার পাশে “Action” → “Cancel Subscription”

   → দুই জায়গা থেকেই একই কাজ হবে। কোনো অর্ডার ক্যানসেল করলে পুরো subscription-টা ক্যানসেল হয়ে যাবে।

2. **ক্যানসেল করলে কী হবে?**
    - সব **Active & Future** ক্লাস/সার্ভিস ক্যানসেল হবে (যেগুলো এখনো হয়নি)
    - যে ক্লাসগুলো **আগে থেকে হয়ে গেছে** সেগুলো থাকবে (তার জন্য টাকা আগেই কেটে নেওয়া হয়েছে)
    - **Refund** হবে শুধু যে ক্লাসগুলো এখনো হয়নি এবং যেগুলো **12 ঘণ্টার বেশি দূরে** আছে।  
      (যেগুলো ১২ ঘণ্টার কম সময় বাকি, সেগুলোর কোনো রিফান্ড হবে না)

3. **ক্যানসেল করার সময় কী দেখাবে?**
    - কোন কোন ক্লাস ক্যানসেল হচ্ছে (তারিখ + সময় সহ)
    - কোনগুলোর জন্য টাকা ফেরত পাবে (Refundable)
    - কোনগুলোর জন্য পাবে না (Non-refundable – কারণ ১২ ঘণ্টার কম বাকি)
    - Buyer কে একটা “Cancellation Reason” লিখতে হবে (অবশ্যই)

4. **ক্যানসেল হলে কী কী নোটিফিকেশন যাবে?**
    - Buyer পাবে: “Your subscription has been cancelled + Refund initiated (যদি থাকে)”
    - Seller পাবে: “Buyer has cancelled the subscription” + কোন কোন ক্লাস ক্যানসেল হলো + কত টাকা রিফান্ড হচ্ছে
    - দুজনকেই **ইমেইল + ইন-অ্যাপ নোটিফিকেশন** যাবে (Fiverr-এর মতো)

5. **Admin কী দেখবে?**
    - Order টা “Cancelled” স্ট্যাটাসে চলে যাবে
    - Refund যদি থাকে, তাহলে Payment Management → Refund সেকশনে চলে যাবে (Auto বা Manual যেভাবে করব)

6. **গুরুত্বপূর্ণ পয়েন্ট (ক্লায়েন্ট বারবার বলেছে)**
    - শুধু **Active Subscription** গুলোই “Cancel Subscription” অপশন দেখাবে। Past/Expired/Already Cancelled দেখাবে না।
    - একটা Subscription ক্যানসেল করলে পুরো Subscription-টা শেষ (আর কোনো future ক্লাস থাকবে না)
    - Buyer যদি শুধু একটা ক্লাস মিস করে, তাহলে আলাদা “Skip this class” অপশন থাকবে না – ক্যানসেল মানেই পুরোটা বন্ধ।

### সংক্ষেপে ক্লায়েন্টের চাওয়া এক লাইনে:
“Buyer যেন দুই জায়গা থেকে সহজে পুরো Subscription ক্যানসেল করতে পারে → Future ক্লাসগুলো বাতিল + ১২ ঘণ্টার বেশি দূরের ক্লাসের টাকা Auto Refund + Buyer & Seller দুজনকেই ইমেইল & নোটিফিকেশন যাক।”


সহজ ভাষায়, একদম ছোট করে:

ক্লায়েন্ট চায় শুধু এই জিনিসটা:

Buyer যখন “Cancel Subscription” চাপবে  
→ পুরো সাবস্ক্রিপশনটা বন্ধ হয়ে যাবে  
→ যে ক্লাসগুলো এখনো হয়নি, সেগুলো বাতিল  
→ যেগুলো ১২ ঘণ্টার বেশি দূরে আছে, সেগুলোর টাকা Buyer-কে ফেরত  
→ যেগুলো ১২ ঘণ্টার কম বাকি, সেগুলোর টাকা ফেরত না  
→ Buyer-কে একটা কারণ লিখতে বলবে  
→ Buyer আর Seller দুজনকেই ইমেইল + নোটিফিকেশন যাবে  
→ শুধু Active সাবস্ক্রিপশনের পাশেই “Cancel Subscription” বাটন দেখাবে

ব্যস, এর বেশি কিছু না, এর কমও না।  
একদম Fiverr-এর মতো সিম্পল।


হ্যাঁ, একদম ঠিক ধরেছিস। ক্লায়েন্টের মাথায় **“Subscription”** মানে শুধু এই কেইসটাই:

- Buyer যখন একটা **Recurring Class** বুক করে (যেমন: প্রতি সপ্তাহে ৪টা ক্লাস × ১ মাস বা ২ মাস)  
  → তখন সেটাই “Subscription” বলে ধরা হচ্ছে।

অর্থাৎ:

| যে ক্লাস কিনি                     | সেটা Subscription কি না? |
|----------------------------------|-------------------------|
| One-day class বা একবারের ক্লাস     | না – এটা শুধু Normal Order |
| Video course                     | না – এটাও Normal Order   |
| **Recurring / Ongoing Class** (যেটা প্রতি সপ্তাহে/মাসে বারবার হয়) | **হ্যাঁ – এটাই Subscription** |

তাই ক্লায়েন্ট যখন “Cancel Subscription” বলছে, তার মানে শুধু **Recurring/Ongoing Class-এর** কথা বলছে।  
যেটা বুক করার সময় Buyer একসাথে একাধিক তারিখ সিলেক্ট করে (যেমন ৪টা বা ৮টা ক্লাস একসাথে) – এটাই তার কাছে “Subscription”।

সুতরাং:
- Normal একবারের ক্লাস বা Video course ক্যানসেল করলে → “Cancel Order” বলবে, “Cancel Subscription” বলবে না।
- শুধু Recurring class-এর ক্ষেত্রেই “Cancel Subscription” বাটন দেখাবে।

ক্লায়েন্টের মাথায় এটাই ১০০% ক্লিয়ার।  
তাই আমাদের কোডেও শুধু যে Order-এর `class_type = recurring` বা `is_subscription = true` সেগুলোর পাশেই “Cancel Subscription” দেখাতে হবে। বাকিগুলোর পাশে শুধু “Cancel Order”।

এটুকুই।
